# 🎯 Cursor CLI 대화형 모드 완벽 가이드

> **핵심**: Cursor CLI Agent는 대화하듯이 사용하는 것이 가장 강력합니다!

---

## 🤔 왜 대화형 모드가 중요한가?

### 문제: 비대화형 모드의 한계

```bash
# ❌ 한 번에 완벽한 질문을 해야 함
cursor agent "src/components 폴더의 모든 컴포넌트를 분석하고, import되지 않는 컴포넌트를 찾아서 삭제해도 안전한지 확인하고, 각 컴포넌트의 의존성 그래프를 그려줘"

# 문제점:
# 1. 질문이 너무 복잡함
# 2. 결과가 마음에 안 들면 처음부터 다시
# 3. 중간에 방향 조정 불가
# 4. 컨텍스트가 유지 안 됨
```

### 해결: 대화형 모드

```bash
cursor agent

# ✅ 자연스럽게 대화하며 진행
> src/components 폴더에 컴포넌트가 몇 개야?

Agent: 15개 컴포넌트가 있습니다.

> 그 중에 다른 곳에서 import 안 되는 컴포넌트 찾아줘

Agent: 3개 컴포넌트가 사용되지 않습니다:
  - OldButton.tsx
  - DeprecatedModal.tsx  
  - TestComponent.tsx

> TestComponent는 테스트용이니까 남겨두고, 나머지 2개 삭제해도 안전해?

Agent: 네, 안전합니다. 두 컴포넌트 모두 6개월 이상 사용되지 않았고...

> 그럼 삭제해줘

Agent: 2개 파일을 삭제했습니다.

> git commit 메시지 작성해줘

Agent: "chore: Remove unused components (OldButton, DeprecatedModal)"
```

**장점**:
- ✅ 한 번에 완벽한 질문 안 해도 됨
- ✅ 대화하며 점진적으로 개선
- ✅ 컨텍스트가 유지되어 "그것", "이전 파일" 같은 표현 가능
- ✅ 실수해도 바로 수정 요청 가능
- ✅ 중간에 방향 전환 가능

---

## 📊 언제 어떤 모드를 사용할까?

### 🎯 대화형 모드 (Interactive)

**시작 방법**:
```bash
cursor agent
```

**언제 사용?**
- ✅ 복잡한 문제 해결 (단계별 진행)
- ✅ 코드베이스 탐색 및 이해
- ✅ 리팩토링 (점진적 개선)
- ✅ 버그 추적 (대화하며 원인 찾기)
- ✅ 아키텍처 설계 (여러 옵션 논의)
- ✅ 학습 및 이해 (질문하며 배우기)

**실전 예시**:
```bash
cursor agent

> 이 프로젝트에서 가장 큰 파일 5개 찾아줘
> 그 중 첫 번째 파일 내용 요약해줘
> 리팩토링 필요한 부분 있어?
> 첫 번째 개선점부터 적용해줘
> 테스트 코드도 작성해줘
```

### 🤖 비대화형 모드 (Non-interactive)

**시작 방법**:
```bash
cursor agent "질문"
cursor agent -p "질문"  # print-only
```

**언제 사용?**
- ✅ 반복 작업 자동화
- ✅ CI/CD 파이프라인
- ✅ 배치 처리
- ✅ 간단한 일회성 작업
- ✅ 스크립트에서 사용

**실전 예시**:
```bash
# 간단한 질문
cursor agent "package.json의 의존성 업데이트해줘"

# 스크립트에서 사용
for dir in */; do
  cd "$dir"
  cursor agent "테스트 실행하고 결과 요약해줘"
  cd ..
done

# CI/CD
cursor agent -p "이 PR의 변경사항 요약해줘" >> pr-summary.md
```

---

## 🔥 실전 시나리오

### 시나리오 1: 버그 추적

**비대화형 (비효율적)**:
```bash
cursor agent "UserProfile 컴포넌트에서 아바타가 안 보이는 버그 찾아서 고쳐줘"
# ❌ 버그 원인이 복잡하면 한 번에 해결 어려움
```

**대화형 (효율적)**:
```bash
cursor agent

> UserProfile 컴포넌트에서 아바타가 안 보여

Agent: UserProfile.tsx를 확인했습니다. 어떤 상황에서 안 보이나요?

> 로그인 직후에는 보이는데, 새로고침하면 안 보여

Agent: 상태 관리 문제일 수 있습니다. localStorage 확인해볼게요...

> localStorage에 뭐가 저장돼 있어?

Agent: avatarUrl이 null로 저장되어 있습니다.

> 왜 null이 되는지 찾아줘

Agent: API 응답에서 avatar_url을 avatarUrl로 변환하는 부분이 누락됐습니다.

> 고쳐줘

Agent: 수정했습니다. 테스트도 추가할까요?
```

### 시나리오 2: 리팩토링

**비대화형 (위험)**:
```bash
cursor agent "이 컴포넌트 리팩토링해줘"
# ❌ 어떻게 리팩토링할지 모름, 결과 예측 불가
```

**대화형 (안전)**:
```bash
cursor agent

> UserProfile.tsx 분석해줘

Agent: 500줄이고, 5가지 책임이 섞여 있습니다...

> 어떻게 분리하면 좋을까?

Agent: 4개 컴포넌트로 분리를 제안합니다:
  1. UserAvatar
  2. UserInfo
  3. UserSettings
  4. UserActivity

> UserAvatar부터 분리해볼까?

Agent: UserAvatar 컴포넌트를 생성하겠습니다...

> 잘 되는지 확인해줘

Agent: 테스트를 실행했고, 모두 통과했습니다.

> 그럼 다음 컴포넌트도 분리해줘

Agent: UserInfo를 분리하겠습니다...
```

### 시나리오 3: IDE + CLI 병렬 작업

**상황**: IDE에서 메인 작업 중, CLI로 조사 작업

```
┌─────────────────────────────────────────────────────────────┐
│  IDE (feat/user-profile)                                    │
├─────────────────────────────────────────────────────────────┤
│  > 아바타 업로드 기능 추가해줘                               │
│  > 드래그 앤 드롭도 되게 해줘                                │
│  > 파일 크기 제한은?                                         │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  터미널 1 (refactor-investigation)                          │
├─────────────────────────────────────────────────────────────┤
│  cursor agent                                               │
│  > 현재 프로필 코드 구조 분석해줘                            │
│  > 리팩토링 필요한 부분은?                                   │
│  > 컴포넌트 분리해줘                                         │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  터미널 2 (api-improvement)                                 │
├─────────────────────────────────────────────────────────────┤
│  cursor agent                                               │
│  > 프로필 API 성능 분석해줘                                  │
│  > N+1 쿼리 문제 해결해줘                                    │
│  > 캐싱도 추가할까?                                          │
└─────────────────────────────────────────────────────────────┘
```

**핵심**: 3개의 독립적인 대화가 동시에 진행!

---

## 💡 대화형 모드 팁

### 1. 작은 단계로 시작

```bash
# ❌ 나쁜 예
> 이 프로젝트 전체를 TypeScript로 마이그레이션하고 테스트 추가하고 CI/CD 설정해줘

# ✅ 좋은 예
> 이 프로젝트에 TypeScript 설정 파일 만들어줘
> 첫 번째 파일부터 마이그레이션해볼까?
> 타입 에러 있어?
> 고쳐줘
> 다음 파일도 마이그레이션해줘
```

### 2. 컨텍스트 활용

```bash
# ✅ 이전 대화 내용을 참조 가능
> 이 컴포넌트 분석해줘
> 그 컴포넌트에서 사용하는 훅은?
> 그 훅을 커스텀 훅으로 분리해줘
> 테스트도 작성해줘
```

### 3. 확인하며 진행

```bash
> 이 파일 삭제해도 돼?
> 이 변경이 다른 파일에 영향 있어?
> 테스트 통과해?
> 성능 영향은?
```

### 4. 방향 전환 가능

```bash
> useReducer로 리팩토링해줘
> 아 잠깐, Zustand가 더 나을 것 같은데?
> Zustand로 다시 해줘
```

### 5. 슬래시 명령 활용

```bash
> 이 컴포넌트 분석해줘
> /models  # 모델 변경
> /compress  # 컨텍스트 압축
> /rules  # Rules 관리
```

---

## 🎓 학습 경로

### 초급: 기본 대화
```bash
cursor agent

> 이 프로젝트 구조 설명해줘
> package.json 분석해줘
> 최근 수정된 파일은?
```

### 중급: 단계별 작업
```bash
cursor agent

> 사용되지 않는 컴포넌트 찾아줘
> 첫 번째 컴포넌트 삭제해도 안전해?
> 삭제해줘
> git commit 메시지 작성해줘
```

### 고급: 복잡한 문제 해결
```bash
cursor agent

> 이 앱의 성능 병목 찾아줘
> 가장 큰 문제는?
> 해결 방법 3가지 제안해줘
> 첫 번째 방법 적용해줘
> 성능 개선 측정해줘
> 다른 방법도 시도해볼까?
```

---

## 🚀 실전 활용

### 일상 개발 흐름

```bash
# 아침: 어제 작업 복기
cursor agent
> 어제 작업 요약해줘
> 오늘 할 일은?

# 개발 중: 대화하며 구현
cursor agent
> 로그인 기능 구현해줘
> 에러 처리 추가해줘
> 테스트 작성해줘

# 저녁: 정리
cursor agent
> 오늘 변경사항 요약해줘
> 내일 할 일 정리해줘
```

### 팀 협업

```bash
# 코드 리뷰 준비
cursor agent
> 이 PR의 변경사항 요약해줘
> 잠재적 문제점은?
> 테스트 커버리지는?

# 온보딩
cursor agent
> 이 프로젝트 아키텍처 설명해줘
> 주요 컴포넌트는?
> 데이터 플로우는?
```

---

## 📊 비교 요약

| 항목 | 대화형 | 비대화형 |
|------|--------|---------|
| **시작** | `cursor agent` | `cursor agent "질문"` |
| **사용성** | 자연스러운 대화 | 한 번에 완벽한 질문 |
| **컨텍스트** | 유지됨 | 없음 |
| **수정** | 쉬움 | 처음부터 다시 |
| **적합** | 복잡한 작업 | 간단한 작업 |
| **자동화** | 어려움 | 쉬움 |

---

## 🎯 핵심 메시지

**Cursor CLI Agent는 대화하듯이 사용하세요!**

- ✅ 한 번에 완벽한 질문 안 해도 됨
- ✅ 대화하며 점진적으로 개선
- ✅ 실수해도 바로 수정 가능
- ✅ 여러 터미널에서 독립적인 대화 가능
- ✅ IDE 작업과 병렬로 진행 가능

**비대화형 모드는 자동화/스크립트용으로만 사용하세요!**

---

**Cursor CLI로 개발 워크플로우를 혁신하세요! 🚀**